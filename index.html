<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=600, height=600">
    <title>AR con Marcador Hiro y Modelo 3D</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <a-scene embedded>
        <!-- Marcador Hiro -->
        <a-marker preset="hiro" id="hiro-marker">
            <!-- Modelo 3D -->
            <a-entity gltf-model="url(modelo.glb)" 
                      position="-2 -2 -2" 
                      scale="0.5 0.5 0.5" 
                      rotation="0 0 0" 
                      animation-mixer="clip: *; loop: repeat;"></a-entity>
        </a-marker>
        <!-- Cámara para la escena -->
        <a-entity camera></a-entity>
    </a-scene>

     <button id="audio-btn" style="position: absolute; top: 20px; left: 20px; width: 100px; height: 80px; padding: 10px 20px; font-size: 25px;">
        Audio
    </button>
    <script>
        // Función para reproducir la voz
        function hablar(texto) {
            const sintesisVoz = window.speechSynthesis;
            const mensaje = new SpeechSynthesisUtterance(texto);
            mensaje.lang = 'es-ES';  // Cambia el idioma si lo necesitas
            sintesisVoz.speak(mensaje);
        }

        // Al hacer clic en el botón "Audio"
        document.getElementById('audio-btn').addEventListener('click', function() {
            hablar('En este avión, Darién te invita a volar a donde vos quieras. Imaginá al lugar que quieras llegar. Puede ser otra ciudad, país o continente. Puede estar dentro de vos. En la compañía de Darién, un gran piloto, la experiencia de viajar a lo más bello.');
        });
    </script>
    
    <script>
        const marker = document.getElementById('hiro-marker');

        marker.addEventListener('markerFound', () => {
            console.log('Marcador encontrado');
            // Aquí puedes realizar cualquier acción que necesites cuando se encuentra el marcador
        });

        marker.addEventListener('markerLost', () => {
            console.log('Marcador perdido');
            // Vuelve a intentar la detección después de un pequeño retraso
            setTimeout(() => {
                marker.emit('reset'); // Otras acciones que desees hacer
            }, 1000); // Ajusta el tiempo de retraso según sea necesario
        });
    </script>
</body>
</html>

