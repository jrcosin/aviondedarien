<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=600, height=600">
    <title>AR con Marcador Hiro y Modelo 3D</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <a-scene embedded>
        <!-- Marcador Hiro -->
        <a-marker preset="hiro" id="hiro-marker">
            <!-- Modelo 3D -->
            <a-entity gltf-model="url(modelo.glb)" 
                      position="-0.5 -0.5 -0.5" 
                      scale="0.2 0.2 0.2" 
                      rotation="0 180 0" 
                      animation-mixer="clip: *; loop: repeat;"></a-entity>
        </a-marker>
        <!-- Cámara para la escena -->
        <a-entity camera></a-entity>
    </a-scene>
    
    <script>
        const marker = document.getElementById('hiro-marker');

        marker.addEventListener('markerFound', () => {
            console.log('Marcador encontrado');
            // Aquí puedes realizar cualquier acción que necesites cuando se encuentra el marcador
        });

        marker.addEventListener('markerLost', () => {
            console.log('Marcador perdido');
            // Vuelve a intentar la detección después de un pequeño retraso
            setTimeout(() => {
                marker.emit('reset'); // Otras acciones que desees hacer
            }, 1000); // Ajusta el tiempo de retraso según sea necesario
        });
    </script>
</body>
</html>

